<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla EnfermerÃ­a</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
body{
  background:#fff0f6;
  font-family:'Poppins',sans-serif;
  margin:0;
  padding:20px;
}

.header{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  margin-bottom:30px;
}

.header img{
  width:80px;
  height:80px;
  object-fit:contain;
  border-radius:16px;
  background:#ffd6e0;
  padding:8px;
}

h1{
  font-family:'Playfair Display',serif;
  color:#c9184a;
  margin:0;
}

.malla{
  display:flex;
  gap:22px;
  overflow-x:auto;
  padding-bottom:20px;
}

.semester{
  min-width:270px;
  background:#ffe5ec;
  border-radius:22px;
  padding:15px;
}

.semester h2{
  text-align:center;
  color:#9d0208;
  font-size:16px;
  margin-bottom:15px;
  border-bottom:2px solid #ff8fab;
  padding-bottom:6px;
}

.subject{
  padding:12px;
  margin-bottom:10px;
  border-radius:14px;
  text-align:center;
  font-size:13px;
  cursor:pointer;
  transition:0.25s;
  user-select:none;
}

.locked{
  background:#f8d7e8;
  color:#9d4edd;
  opacity:0.5;
  cursor:not-allowed;
}

.unlocked{
  background:#ffd6e0;
  color:#6a0572;
}

.approved{
  background:#ff8fab;
  color:white;
  font-weight:500;
}
</style>
</head>

<body>

<div class="header">
  <img src="logo.png" alt="Logo EnfermerÃ­a">
  <h1>Malla EnfermerÃ­a ðŸ’—</h1>
</div>

<div class="malla" id="app"></div>

<script>
const subjects = [
{id:"ingles1",name:"InglÃ©s 1",req:[],sem:1},
{id:"metrologia",name:"MetrologÃ­a",req:[],sem:1},
{id:"biologia",name:"BiologÃ­a",req:[],sem:1},
{id:"catedra1",name:"CÃ¡tedra FUCS 1",req:[],sem:1},
{id:"cuidado_comunitario",name:"Cuidado a la persona y familia en el entorno comunitario",req:[],sem:1},
{id:"electiva1",name:"Electiva",req:[],sem:1},
{id:"historia",name:"Historia y fundamentos",req:[],sem:1},
{id:"informatica",name:"InformÃ¡tica",req:[],sem:1},
{id:"morfologia",name:"MorfologÃ­a",req:[],sem:1},

{id:"ingles2",name:"InglÃ©s 2",req:["ingles1"],sem:2},
{id:"bioquimica",name:"BioquÃ­mica",req:["metrologia","biologia"],sem:2},
{id:"electiva2",name:"Electiva",req:[],sem:2},
{id:"fisiologia",name:"FisiologÃ­a",req:["metrologia","morfologia"],sem:2},
{id:"fundamentos",name:"Fundamentos del cuidado de enfermerÃ­a y gerontologÃ­a",
 req:["metrologia","biologia","morfologia","cuidado_comunitario"],sem:2},
{id:"microbiologia",name:"MicrobiologÃ­a",req:["biologia","morfologia"],sem:2},
{id:"psico_general",name:"PsicologÃ­a general",req:[],sem:2},

{id:"antropologia",name:"AntropologÃ­a y cultura",req:[],sem:3},
{id:"catedra2",name:"CÃ¡tedra FUCS 2",req:["catedra1"],sem:3},
{id:"adulto1",name:"Cuidado de enfermerÃ­a a la persona adulta I",
 req:["bioquimica","fisiologia","fundamentos","microbiologia"],sem:3},
{id:"farmaco1",name:"FarmacologÃ­a I",
 req:["bioquimica","fisiologia","microbiologia"],sem:3},
{id:"ingles3",name:"InglÃ©s 3",req:["ingles2"],sem:3},
{id:"psico_des",name:"PsicologÃ­a del desarrollo",req:["psico_general"],sem:3},
{id:"semiologia",name:"SemiologÃ­a",req:["morfologia","fisiologia"],sem:3},

{id:"adulto2",name:"Cuidado de enfermerÃ­a a la persona adulta II",
 req:["adulto1","farmaco1","semiologia"],sem:4},
{id:"salud_mental",name:"Cuidado de enfermerÃ­a en salud mental y psiquiÃ¡trica",
 req:["adulto1","farmaco1","semiologia","psico_des"],sem:4},
{id:"electiva4",name:"Electiva",req:[],sem:4},
{id:"etica",name:"Ã‰tica",req:[],sem:4},
{id:"farmaco2",name:"FarmacologÃ­a II",req:["farmaco1"],sem:4},
{id:"ingles4",name:"InglÃ©s 4",req:["ingles3"],sem:4},
{id:"invest_cuant",name:"MetodologÃ­a de la investigaciÃ³n cuantitativa",req:[],sem:4},

{id:"admin",name:"AdministraciÃ³n del cuidado de enfermerÃ­a",req:[],sem:5},
{id:"bioetica",name:"BioÃ©tica",req:["admin"],sem:5},
{id:"critico",name:"Cuidado de enfermerÃ­a en situaciones crÃ­ticas",
 req:["adulto2","salud_mental","farmaco2","ingles4"],sem:5},
{id:"farmaco3",name:"FarmacologÃ­a III",req:["farmaco2","ingles4"],sem:5},
{id:"invest_cuali",name:"MetodologÃ­a de la investigaciÃ³n cualitativa",req:["invest_cuant"],sem:5},
{id:"salud_publica",name:"Salud pÃºblica",req:[],sem:5},

{id:"catedra3",name:"CÃ¡tedra FUCS 3",req:["catedra2"],sem:6},
{id:"mujer",name:"Cuidado de enfermerÃ­a a la mujer, niÃ±o y familia",
 req:["historia","informatica","antropologia","catedra2","admin","bioetica","critico","farmaco3","invest_cuali","salud_publica"],sem:6},
{id:"elec6a",name:"Electiva profundizaciÃ³n especÃ­fica",req:[],sem:6},
{id:"elec6b",name:"Electiva profundizaciÃ³n genÃ©rica",req:[],sem:6},
{id:"farmaco4",name:"FarmacologÃ­a IV",req:["farmaco3"],sem:6},
{id:"invest_apl",name:"InvestigaciÃ³n aplicada",req:["invest_cuali"],sem:6},
{id:"grado1",name:"Proyecto de grado I",req:["invest_apl"],sem:6},

{id:"nino",name:"Cuidado de enfermerÃ­a al niÃ±o y adolescente",req:["mujer","farmaco4"],sem:7},
{id:"electiva7",name:"Electiva",req:[],sem:7},
{id:"farmaco5",name:"FarmacologÃ­a V",req:["farmaco4"],sem:7},
{id:"programas",name:"Programas de educaciÃ³n en enfermerÃ­a",req:[],sem:7},
{id:"grado2",name:"Proyecto de grado II",req:["grado1"],sem:7},

{id:"electiva8",name:"Electiva",req:[],sem:8},
{id:"gestion",name:"GestiÃ³n del cuidado de enfermerÃ­a y de los servicios de salud",
 req:["nino","farmaco5","programas","admin"],sem:8}
];

let approved = new Set(JSON.parse(localStorage.getItem("approved")) || []);

function canUnlock(s){
  return s.req.every(r=>approved.has(r));
}

function cleanInvalid(){
  let changed=true;
  while(changed){
    changed=false;
    subjects.forEach(s=>{
      if(approved.has(s.id) && s.req.length && !canUnlock(s)){
        approved.delete(s.id);
        changed=true;
      }
    });
  }
}

function save(){
  localStorage.setItem("approved",JSON.stringify([...approved]));
}

function toggle(s){
  if(approved.has(s.id)){
    approved.delete(s.id);
    cleanInvalid();
  }else{
    approved.add(s.id);
  }
  save();
  render();
}

function render(){
  const app=document.getElementById("app");
  app.innerHTML="";

  for(let sem=1;sem<=8;sem++){
    const col=document.createElement("div");
    col.className="semester";
    col.innerHTML=`<h2>Semestre ${sem}</h2>`;

    subjects.filter(s=>s.sem===sem).forEach(s=>{
      const d=document.createElement("div");
      d.className="subject";

      if(approved.has(s.id)){
        d.classList.add("approved");
        d.onclick=()=>toggle(s);
      }else if(sem===1 || canUnlock(s)){
        d.classList.add("unlocked");
        d.onclick=()=>toggle(s);
      }else{
        d.classList.add("locked");
      }

      d.textContent=s.name;
      col.appendChild(d);
    });

    app.appendChild(col);
  }
}

render();
</script>

</body>
</html>
